# TODO Items {#todos}
This section will walk the developer through each of the QuickStart `TODO` items. As each `TODO` is completed, it is recommended to remove it from the code.

## TODO #1: Change Namespaces
 
TODO Location        Impact
-------------------  -----------------
QuickStartMain.cpp   All source files

The classes in the QuickStart RStudio Launcher Plugin are all in the `rstudio::launcher_plugins::quickstart` namespace. As desired, these namespaces may be changed. For example, if the developer of the Plugin is part of the "Orchid Organization" and is developing a plugin for the "Tiger Lily" job scheduling system, they may change the following namespace definitions

```{c, echo=TRUE, eval=FALSE}
namespace rstudio {
namespace launcher_plugins {
namespace quickstart {
  ...
} // namespace quickstart
} // namespace launcher_plugins
} // namespace rstudio
```

to this:
```{c, echo=TRUE, eval=FALSE}
namespace orchid {
namespace tiger_lily {
  ...
} // namespace tiger_lily
} // namespace orchid
```

## TODO #2: Rename Classes
 
TODO Location        Impact
-------------------  -----------------
QuickStartMain.cpp   All source files

Continuing with the previous example, the developer may now wish to rename all the classes from `QuickStart*` to `TigerLily*`. For example, `QuickStartMain` would become `TigerLilyMain`.

In addition, the developer may also wish to modify the include guards to match their new namespace and class names. For example,

```{c, echo=TRUE, eval=FALSE}
#ifndef QUICKSTART_QUICK_START_PLUGIN_API
#define QUICKSTART_QUICK_START_PLUGIN_API
```

might become

```{c, echo=TRUE, eval=FALSE}
#ifndef TIGERLILY_TIGER_LILY_PLUGIN_API
#define TIGERLILY_TIGER_LILY_PLUGIN_API
```

The naming schemes described here are only recommendations. The exact naming scheme is completely at the discretion of the developer.

## TODO #3: Change the Plugin Name
 
TODO Location        Impact
-------------------  -------------------
QuickStartMain.cpp   QuickStartMain.cpp


The plugin name is used to generate the program ID, which will be used for logging, and the configuration file name. By default, the program ID will be `"rstudio-" + getPluginName() + "-launcher"`. The configuration file name will be `"launcher." + getPluginName() + ".conf"` and must be located in `/etc/rstudio`. Continuing the previous example, the "Orchid" organization developer might change

```{c, eval=FALSE}
std::string getPluginName() const override
{
  // TODO #3: Change the Plugin Name
  return "quickstart";
}
```

to 

```{c, eval=FALSE}
std::string getPluginName() const override
{
  return "tigerlily";
}
```

## TODO #4: Optionally Change the Program ID
 
TODO Location        Impact
-------------------  -------------------
QuickStartMain.cpp   QuickStartMain.cpp


The program ID will be used to uniquely identify logs from the plugin that are sent to the system log. By default, the value will be `"rstudio-" + getPluginName() + "-launcher"`, however it is possible to override `AbstractMain::getProgramID()` to set a custom program ID. Continuing with the previous example, the Orchid organization developer might add 

```{c, eval=FALSE}
std::string getProgramId() const override
{
  return "orchid-" + getProgramName() + "-launcher"
}
```

to `TigerLilyMain.cpp`.

## TODO #5: Add Options 
 
TODO Location           Impact
----------------------  ---------------------------------------------
QuickStartOptions.cpp   QuickStartOptions.cpp, QuickStartOptions.hpp



The QuickStartOptions class demonstrates how to add job scheduling specific options to the Plugin. It may not be immediately obvious what options will be required for the Plugin, but when it does become clear that an option is needed it can be added here.

Continuing the previous example, suppose that the Tiger Lily job scheduling system can be controlled using an HTTP API, and it can be set up at a custom URL and port. The Orchid developer might then add a required option for the URL, an optional option for whether SSL should be used, and an optional option for the port. In that case, the developer might modify QuickStartOptions.hpp and QuickStartOptions.cpp in the following way:


```{c,eval=FALSE}
// QuickStartOptions.hpp =========================
class QuickStartOptions : public Noncopyable
{
public:
// ...
  
  bool getSampleOption() const;
   
// ...
   
private:
// ...
  
  bool m_sampleOption;
}
```

```{c,eval=FALSE}
// QuickStartOptions.cpp =========================
bool QuickStartOptions::getSampleOption() const 
{
  return m_sampleOption;
}

void QuickStartOptions::initialize()
{
   // TODO #5: Add options, as necessary.
   using namespace rstudio::launcher_plugins::options;
   Options& options = Options::getInstance();
   options.registerOptions()
      ("sample-option",
       Value<bool>(m_sampleOption).setDefaultValue(true),
       "sample option to demonstrate how to register options");
}

```

```{c,eval=FALSE}
// TigerLilyOptions.hpp ==========================
class TigerLilyOptions : public Noncopyable
{
public:
// ...
  
  const std::string& getHost() const;
  
  unsigned int getPort() const;
  
  bool getUseSsl() const;
   
// ...
   
private:
// ...
  
  std::string m_host;
  
  unsigned int m_port;
  
  bool m_useSsl;
}
```

```{c,eval=FALSE}
// TigerLilyOptions.cpp ==========================
const std::string& TigerLilyOptions::getHost() const 
{
  return m_host;
}

unsigned int TigerLilyOptions::getPort() const 
{
  if (m_port != 0)
    return m_port;
  
  if (m_useSsl)
    return 443;
  
  return 80;
}

bool TigerLilyOptions::getUseSsl() const 
{
  return m_useSsl;
}

void TigerLilyOptions::initialize()
{
   // TODO #5: Add options, as necessary.
   using namespace rstudio::launcher_plugins::options;
   Options& options = Options::getInstance();
   options.registerOptions()
      ("host",
       Value<std::string>(m_host),
       "the IP address or hostname of the Tiger Lily server")
      ("port",
       Value<unsigned int>(m_port).setDefaultValue(0),
       "the port to use for connecting to the Tiger Lily server")
      ("use-ssl",
       Value<bool>(m_useSsl).setDefaultValue(false),
       "whether to use HTTPS (true) or HTTP (false, default) when connecting to the Tiger Lily server");
}

```

## TODO #6: Initilaize Communication
 
TODO Location             Impact
------------------------  ------------------------
QuickStartJobSource.cpp   QuickStartJobSource.cpp


The next step is to initialize communication with the job scheduling system. This might involve opening a TCP connection to the job scheduling system which will remain open for the duration of the Plugin's lifetime, or it might involve testing that it is possible to connect to the job scheduling system. In the case of the sample Local Plugin, provided with this SDK, no communication test is necessary since jobs will be run on the local machine.

Any other tasks which need to be completed before the Plugin is ready to launch jobs must be completed here. For example, in the RStudio SLURM Launcher Plugin it was also necessary to check which timezone the SLURM cluster is using, since job timestamps need to be compared later on. If the Plugin implementation will be tied to a specific version, or set of versions, of the job scheduling system, that should be validated here as well.